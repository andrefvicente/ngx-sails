{"version":3,"file":"aloreljs-ngx-sails.mjs","sources":["../../../projects/ngx-sails/src/lib/classes/Response.ts","../../../projects/ngx-sails/src/lib/classes/SailsError.ts","../../../projects/ngx-sails/src/lib/classes/SailsResponse.ts","../../../projects/ngx-sails/src/lib/tokens/IO_INSTANCE.ts","../../../projects/ngx-sails/src/lib/tokens/NGX_SAILS_CONFIG.ts","../../../projects/ngx-sails/src/lib/SailsClient.ts","../../../projects/ngx-sails/src/aloreljs-ngx-sails.ts"],"sourcesContent":["import type {IRawSailsResponse} from '../interfaces/IRawSailsResponse';\nimport type {ISailsRequest} from '../interfaces/ISailsRequest';\nimport type {ISailsResponse} from '../interfaces/ISailsResponse';\nimport type {AnyObject} from '../util/AnyObject';\n\n/** Abstract response class */\nexport abstract class Response implements Omit<ISailsResponse, 'data'> {\n  public readonly config: ISailsRequest;\n\n  public readonly headers: AnyObject;\n\n  public readonly status: number;\n\n  protected constructor(response: IRawSailsResponse, request: ISailsRequest) {\n    const rspParsed: IRawSailsResponse = typeof response === 'string'\n      ? JSON.parse(response)\n      : response;\n    this.config = request;\n    this.headers = rspParsed.headers || {};\n    this.status = rspParsed.statusCode ?? 200;\n  }\n}\n","import type {IRawSailsResponse} from '../interfaces/IRawSailsResponse';\nimport type {ISailsRequest} from '../interfaces/ISailsRequest';\nimport {Response} from './Response';\n\n/** A sails response implementation */\nexport class SailsError extends Response {\n  public readonly error: any;\n\n  public constructor(response: IRawSailsResponse, request: ISailsRequest) {\n    super(response, request);\n    this.error = response.body ?? {};\n  }\n}\n","import type {IRawSailsResponse} from '../interfaces/IRawSailsResponse';\nimport type {ISailsRequest} from '../interfaces/ISailsRequest';\nimport type {ISailsResponse} from '../interfaces/ISailsResponse';\nimport {Response} from './Response';\n\n/** A sails response implementation */\nexport class SailsResponse<T = any> extends Response implements ISailsResponse<T> {\n  public readonly data: T;\n\n  public constructor(response: IRawSailsResponse, request: ISailsRequest) {\n    super(response, request);\n    this.data = (response.body ?? {}) as any;\n  }\n}\n","import {InjectionToken} from '@angular/core';\n\n/** User-provided custom socket.io instance */\nexport const IO_INSTANCE = new InjectionToken<any>('socket.io instance');\n","import {InjectionToken} from '@angular/core';\nimport type {NgxSailsConfig} from '../interfaces/NgxSailsConfig';\n\n/** Ngx sails configuration injection token */\nexport const NGX_SAILS_CONFIG = new InjectionToken<NgxSailsConfig>('NgxSails config');\n","import {Inject, Injectable, Injector, OnDestroy, Optional} from '@angular/core';\nimport {Observable, Subject} from 'rxjs';\nimport * as _io from 'socket.io-client';\nimport {SailsError} from './classes/SailsError';\nimport {SailsResponse} from './classes/SailsResponse';\nimport {RequestMethod} from './enums/RequestMethod';\nimport type {IRawSailsResponse} from './interfaces/IRawSailsResponse';\nimport type {ISailsRequest} from './interfaces/ISailsRequest';\nimport type {ISailsRequestOpts} from './interfaces/ISailsRequestOpts';\nimport type {ISailsResponse} from './interfaces/ISailsResponse';\nimport type {NgxSailsConfig} from './interfaces/NgxSailsConfig';\nimport {IO_INSTANCE} from './tokens/IO_INSTANCE';\nimport {NGX_SAILS_CONFIG} from './tokens/NGX_SAILS_CONFIG';\nimport type {AnyObject} from './util/AnyObject';\n\n@Injectable({providedIn: 'root'})\nexport class SailsClient implements OnDestroy {\n\n  public readonly configuration: Readonly<NgxSailsConfig>;\n\n  public readonly io: SocketIOClient.Socket;\n\n  public readonly requestErrors: Observable<SailsError>;\n\n  private readonly _cfg: SocketIOClient.ConnectOpts;\n\n  private readonly _defaultHeaders: AnyObject;\n\n  private readonly _errorsSbj: Subject<SailsError>;\n\n  public constructor(\n    inj: Injector,\n    @Optional() @Inject(IO_INSTANCE) io: any | null,\n    @Optional() @Inject(NGX_SAILS_CONFIG) cfg: NgxSailsConfig | null,\n  ) {\n    const SAILS_IO_SDK_STRING = '__sails_io_sdk';\n    const SAILS_IO_SDK: AnyObject = {\n      language: 'javascript',\n      platform: 'browser',\n      version: '1.1.12'\n    };\n\n    const query = Object.entries(SAILS_IO_SDK).reduce(\n      (acc: any, [key, value]: [string, any]): any => {\n        acc[`${SAILS_IO_SDK_STRING}_${key}`] = value;\n\n        return acc;\n      },\n      {}\n    );\n\n    if (cfg?.options?.query) {\n      Object.assign(query, cfg.options.query);\n    }\n\n    this._cfg = {\n      transports: ['websocket'],\n      ...cfg?.options,\n      query\n    };\n\n    this.io = io || (((_io as any).default || _io) as SocketIOClientStatic)(cfg?.uri as any, this._cfg);\n    this._defaultHeaders = cfg?.headers || {};\n    this._errorsSbj = new Subject();\n    this.requestErrors = this._errorsSbj.asObservable();\n    this.configuration = Object.freeze<NgxSailsConfig>({\n      headers: this._defaultHeaders,\n      options: this._cfg,\n    });\n  }\n\n  public delete<T = any>(url: string, opts?: ISailsRequestOpts): Observable<ISailsResponse<T>> {\n    return this._sendRequest(url, RequestMethod.DELETE, undefined, opts);\n  }\n\n  /** Emit an event */\n  public emit(event: string, ...args: any[]): void {\n    this.io.emit(event, ...args);\n  }\n\n  /** Emit an event and wait for a response. */\n  public emitAndWait<T = any>(event: string, ...args: any[]): Observable<T> {\n    return new Observable<T>(subscriber => {\n      this.io.emit(event, ...args, (response: any) => {\n        subscriber.next(response);\n        subscriber.complete();\n      });\n    });\n  }\n\n  public get<T = any>(url: string, opts?: ISailsRequestOpts): Observable<ISailsResponse<T>> {\n    return this._sendRequest(url, RequestMethod.GET, undefined, opts);\n  }\n\n  public head<T = any>(url: string, opts?: ISailsRequestOpts): Observable<ISailsResponse<T>> {\n    return this._sendRequest(url, RequestMethod.HEAD, undefined, opts);\n  }\n\n  /** @inheritDoc */\n  public ngOnDestroy(): void {\n    this._errorsSbj.complete();\n  }\n\n  public on<T = any>(event: string): Observable<T> {\n    return new Observable<T>(subscriber => {\n      function next(msg: any): void {\n        subscriber.next(msg);\n      }\n\n      this.io.on(event, next);\n\n      return () => {\n        this.io.off(event, next);\n      };\n    });\n  }\n\n  public options<T = any>(url: string, opts?: ISailsRequestOpts): Observable<ISailsResponse<T>> {\n    return this._sendRequest(url, RequestMethod.OPTIONS, undefined, opts);\n  }\n\n  public patch<T = any>(url: string, body?: AnyObject, opts?: ISailsRequestOpts): Observable<ISailsResponse<T>> {\n    return this._sendRequest(url, RequestMethod.PATCH, body, opts);\n  }\n\n  public post<T = any>(url: string, body?: AnyObject, opts?: ISailsRequestOpts): Observable<ISailsResponse<T>> {\n    return this._sendRequest(url, RequestMethod.POST, body, opts);\n  }\n\n  public put<T = any>(url: string, body?: AnyObject, opts?: ISailsRequestOpts): Observable<ISailsResponse<T>> {\n    return this._sendRequest(url, RequestMethod.PUT, body, opts);\n  }\n\n  private _sendRequest(\n    url: string,\n    method: RequestMethod,\n    data?: AnyObject,\n    options: ISailsRequestOpts = {}\n  ): Observable<SailsResponse> {\n    return sendRequest<any>(\n      clean({\n        data: clean(data),\n        headers: clean({...this._defaultHeaders, ...options.headers}),\n        method,\n        params: clean(options.params || options.search || {}),\n        url\n      }),\n      this.io,\n      this._errorsSbj\n    );\n  }\n}\n\nfunction sendRequest<T>(\n  request: ISailsRequest,\n  io: SocketIOClient.Socket,\n  errors$: Subject<SailsError>\n): Observable<SailsResponse<T>> {\n  const {method} = request;\n  request.headers = lowerCaseHeaders(request.headers);\n\n  return new Observable<SailsResponse>(subscriber => {\n    let unsubscribed = false;\n\n    io.emit(method, request, (rawResponse: IRawSailsResponse) => {\n      if (!unsubscribed) {\n        if (rawResponse.statusCode >= 400) {\n          const error = new SailsError(rawResponse, request);\n          errors$.next(error);\n          subscriber.error(error);\n        } else {\n          try {\n            subscriber.next(new SailsResponse<any>(rawResponse, request));\n            subscriber.complete();\n          } catch (e) {\n            subscriber.error(e);\n          }\n        }\n      }\n    });\n\n    return () => {\n      unsubscribed = true;\n    };\n  });\n}\n\nfunction lowerCaseHeaders(headers?: AnyObject): AnyObject {\n  if (headers) {\n    let lowercased: string;\n    const out = {...headers};\n\n    for (const [header, value] of Object.entries(headers)) {\n      lowercased = header.toLowerCase();\n      if (lowercased !== header) {\n        out[lowercased] = value;\n        delete out[header];\n      }\n    }\n\n    return out;\n  }\n\n  return headers!;\n}\n\nfunction clean<T extends AnyObject>(obj?: T): T {\n  if (obj) {\n    const out = {...obj};\n    for (const [key, value] of Object.entries(out)) {\n      if (value === undefined) {\n        delete out[key];\n      }\n    }\n  }\n\n  return obj!;\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}